---
title: 'Hyper nehanのデータ処理の仕組みを知る'
---

# 概要

Hyper nehan がなぜ高速処理を実現できているかを紹介します。

---

# 詳細

### 背景

nehan のベースプランにおけるデータ処理は、Python で行っています。  
しかし、データサイズが大きくにつれて処理が遅くなる、あるいは処理ができないというデメリットがあります。  
そこで、ビッグデータに対しては Apache Spark で処理を行うようにしたのが Hyper nehan です。

### 自動スイッチ機能

Spark はあくまでビッグデータに対して高速処理を発揮するものであり、小さいデータに対する処理時間は Python に劣ります。  
そこで、データサイズに応じて処理するエンジンを Python と Spark で切り替える仕組みを搭載しています。  
これにより、どんなデータサイズでも高速処理を実現しています。

[!image]

### パフォーマンス比較

[!image]

### サーバの構成

Hyper nehan 環境下において、通常のベースサーバとは別に、Hyper nehan サーバを別で追加します。  
自動スイッチ機能によって

- 小さめのデータはベースサーバで処理
- ビッグデータは Hyper nehan サーバで処理

する構成になります。

[!image]

<InternalSection>

# 仕様

自動スイッチは入力データサイズによって異なります。  
下記に、機能別のスイッチポイントを定義します。

### 分析プロジェクト

| データ処理機能名 | 機能 name      | 切り替え行数 |
| ---------------- | -------------- | ------------ |
| 列選択           | columnSelectV2 | 100000000    |

### データソース

| データタイプ名       | 機能 name  | 切り替え行数 |
| -------------------- | ---------- | ------------ |
| ファイルアップロード | fileUpload | 100000000    |

</InternalSection>
